# Get-HPOVinterconnectstatistics
   This PowerShell function provides the network statistics of a given port from a Virtual Connect SE 40Gb F8 Module for Synergy.   
      
   _Example of the statistics output:_   
   
   ![](https://user-images.githubusercontent.com/13134334/29812587-64563b42-8ca7-11e7-9a05-d7fb21389a69.png)   
   
   _Example of the statistics throughput output:_   
   
   ![](https://user-images.githubusercontent.com/13134334/29812596-6a0a3b56-8ca7-11e7-8a91-b6f0f4bab0c7.png)   
       
## Download

### [Click here to download the function (right click to save)](https://github.com/jullienl/OneView-demos/blob/master/Powershell/Virtual%20Connect/Get-HPOVinterconnectstatistics.ps1)

## Parameter `IP`
  IP address of the Composer.
    
## Parameter `username`
  OneView administrator account of the Composer.
  Default: Administrator
  
## Parameter `password`
  Password of the OneView administrator account. 
  Default: password
  
## Parameter `interconnect`
  Name of the interconnect module.  
  This is normally retrieved with a `Get-HPOVInterconnect` call like `(get-HPovInterconnect | Where-Object {$_.name -match "interconnect 3" -and $_.model -match "Virtual" } ).name`
  
## Parameter `portname`
  Case-insensitive name of the port to query for statistics:  
  - Downlink ports: d1, d2, d3, ... d60
  - Uplink ports: Q1, Q2, Q3:1, Q3:2, Q3:3, Q3:4, Q4, ... Q8 

## Parameter `throughputstatistics` 
  Provides the throughput statistics of the given port. 
   
## Parameter `QoS`
  Provides the QoS statistics of the given port. 

## Parameter `FlexNic`
  Provides the statistics of the FlexNICs of a given downlink port. 

## Example
  ```sh
  PS C:\> Get-HPOVinterconnectstatistics -IP 192.168.1.110 -username Administrator -password password -portname "Q2" -interconnect "Frame1-CN7516060D, interconnect 3"
  ```  
  Provides the common statistics of 40Gb uplink port Q2 on the interconnect "Frame1-CN7516060D, interconnect 3"
  
  ```sh
  PS C:\> Get-HPOVinterconnectstatistics -IP 192.168.1.110 -username administrator -password password -portname "d2" -interconnect "Frame2-CN7515049L, interconnect 6" -throughputstatistics
  ```
  Provides the throughput statistics of downlink port d2 on the interconnect "Frame2-CN7515049L, interconnect 6"
  
  ```sh
  PS C:\> Get-HPOVinterconnectstatistics -IP 192.168.1.110 -username administrator -password password -portname "Q4:1" -interconnect "Frame2-CN7515049L, interconnect 6" -qos
  ```
  Provides the QoS statistics of 10G uplink port Q4:1 on the interconnect "Frame2-CN7515049L, interconnect 6"

  ```sh
  PS C:\> Get-HPOVinterconnectstatistics -IP 192.168.1.110 -username administrator -password password -portname "d8" -interconnect "Frame2-CN7515049L, interconnect 6" -flexNICs
  ```
  Provides the FlexNICs statistics of downlink port d8 on the interconnect "Frame2-CN7515049L, interconnect 6"

## Components
  This script makes use of the PowerShell language bindings library for HPE OneView.  
  https://github.com/HewlettPackard/POSH-HPOneView/releases

<br/>
<br/>

# Add a network

This PowerShell script adds a network resource to a Synergy environment and presents this network to all Compute Modules using a Network Set.    
The network name generated by the script in OneView/Virtual Connect is always a `prefixname`+`VLAN ID` like *Production-400*.         
The script also adds the network resource to the LIG uplinkset and to the network set present in OneView.          

 _Example of the script output:_   
   
![](https://user-images.githubusercontent.com/13134334/29916199-5c1e893c-8e3e-11e7-9240-9e1a9cd40f4b.png)

This script can be used in conjunction with [Remove a network.ps1](https://github.com/jullienl/HPE-Synergy-OneView-demos/blob/master/Powershell/Virtual%20Connect/Remove%20a%20network.ps1)

>With this script, you can demonstrate that with a single line of code, you can present easily and quickly a network VLAN to all Compute Modules present in the Synergy frames managed by HPE OneView. 
       
OneView administrator account is required.   
Global variables (i.e. OneView details, LIG, UplinkSet, Network Set names, etc.) must be modified with your own environment information.

## Download

### [Click here to download the function (right click to save)](https://github.com/jullienl/OneView-demos/blob/master/Powershell/Virtual%20Connect/Add%20a%20network.ps1)

## Components
  This script makes use of the PowerShell language bindings library for HPE OneView.  
  https://github.com/HewlettPackard/POSH-HPOneView/releases


<br/>
<br/>

# Remove a network

This PowerShell script removes a network resource from a Synergy environment and unpresents this network to all Compute Modules using a Network Set.    
The network name defined in OneView/Virtual Connect deleted by this script is always a `prefixname`+`VLAN ID` like *Production-400*.   
The script also removes the network resource from the LIG uplinkset and from the network set present in OneView.    

 _Example of the script output:_   
   
![](https://user-images.githubusercontent.com/13134334/29923326-7635d22e-8e59-11e7-907b-4e8f076e5c4b.png)

This script can be used in conjunction with [Add a network.ps1](https://github.com/jullienl/HPE-Synergy-OneView-demos/blob/master/Powershell/Virtual%20Connect/Add%20a%20network.ps1)
  
>With this script, you can demonstrate that with a single line of code, you can unpresent easily and quickly a network VLAN from all Compute Modules present in the Synergy frames managed by HPE OneView. 
        
OneView administrator account is required.    
Global variables (i.e. OneView details, LIG, UplinkSet, Network Set names, etc.) must be modified with your own environment information.

## Download

### [Click here to download the function (right click to save)](https://github.com/jullienl/HPE-Synergy-OneView-demos/blob/master/Powershell/Virtual%20Connect/Remove%20a%20network.ps1)

## Components
  This script makes use of the PowerShell language bindings library for HPE OneView.  
  https://github.com/HewlettPackard/POSH-HPOneView/releases

